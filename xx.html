<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>测试 JS <-> Native 交互</title>
<script type="text/javascript">
function share() {
  if (window.MeikeNativeJSBridge) {
    window.MeikeNativeJSBridge.callNative('wechatShare', '{"title":"title","desc":"desc","link":"http://www.baidu.com","imgUrl":"http://img.wdjimg.com/mms/icon/v1/c/1c/ea8a4e44a10327cc8d56ebcfe44c41cc_68_68.png"}', function(responseData) {
        //创建textNode
        var txt = document.createTextNode("wechatShare");
        var p = document.createElement("p");
        //加文本以子节点形式加入到P元素中
        p.appendChild(txt);
        //将上面创建的P元素加入到BODY的尾部
        document.appendChild(p);
    });
  }
}

function openBaidu() {
  if (window.MeikeNativeJSBridge) {
    window.MeikeNativeJSBridge.callNative('jumpUrl', 'http://www.baidu.com', function(responseData) {
        //创建textNode
        var txt = document.createTextNode("jumpUrl");
        var p = document.createElement("p");
        //加文本以子节点形式加入到P元素中
        p.appendChild(txt);
        //将上面创建的P元素加入到BODY的尾部
        document.appendChild(p);
    });
  }
}

function getCoupon() {
  if (window.MeikeNativeJSBridge) {
    window.MeikeNativeJSBridge.callNative('getCoupon', '336d17c5-709e-4615-83c1-c0ac59a125b9', function(responseData) {
        //创建textNode
        var txt = document.createTextNode("getCoupon");
        var p = document.createElement("p");
        //加文本以子节点形式加入到P元素中
        p.appendChild(txt);
        //将上面创建的P元素加入到BODY的尾部
        document.appendChild(p);
    });
  }
}

window.MeikeNativeJSBridge.registerHandler('native', function(data, responseCallback) {
  responseCallback(data);
});
</script>
</head>
<body>
  <p><button type="button" onclick="share()" style="height:50px;width:50%">share!</button></p>
    
   <p> <button type="button" onclick="openBaidu()" style="height:50px;width:50%">open baidu!</button></p>
    <p><button type="button" onclick="getCoupon()" style="height:50px;width:50%">get coupon!</button></p>
</body>
</html>
